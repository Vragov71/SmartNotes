# üìù SmartNotes (NotesWebApp)

–¢–æ–≤–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å—ä–¥—ä—Ä–∂–∞ –∏–∑—Ö–æ–¥–Ω–∏—è –∫–æ–¥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞ –∑–∞ —É–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ **SmartNotes**, —Ä–∞–∑—Ä–∞–±–æ—Ç–µ–Ω–æ –∫–∞—Ç–æ –∫—É—Ä—Å–æ–≤ –ø—Ä–æ–µ–∫—Ç –ø–æ –º–æ–¥—É–ª "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ" –∫—ä–º –ù–∞—Ü–∏–æ–Ω–∞–ª–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ "–û–±—É—á–µ–Ω–∏–µ –∑–∞ –ò–¢ —É–º–µ–Ω–∏—è –∏ –∫–∞—Ä–∏–µ—Ä–∞".

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

**SmartNotes** –µ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –ª–∏—á–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ—è—Ç–æ –ø–æ–∑–≤–æ–ª—è–≤–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –¥–∞ —Å—ä–∑–¥–∞–≤–∞—Ç, —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞—Ç –∏ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –±–µ–ª–µ–∂–∫–∏, –∫–∞–∫—Ç–æ –∏ –¥–∞ –≥–∏ –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞—Ç —á—Ä–µ–∑ –µ—Ç–∏–∫–µ—Ç–∏ –∏ –º—É–ª—Ç–∏–º–µ–¥–∏—è.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –µ —Ä–∞–∑—Ä–∞–±–æ—Ç–µ–Ω–æ —Å—ä–≥–ª–∞—Å–Ω–æ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è—Ç–∞ –∑–∞ **—Ç—Ä–∏—Å–ª–æ–π–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (Data, Service, Presentation layers) –∏ –∏–∑–ø–æ–ª–∑–≤–∞ –Ω–∞–π-–Ω–æ–≤–∏—Ç–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –æ—Ç —Å—Ç–µ–∫–∞ –Ω–∞ Microsoft (.NET 9).

## üöÄ –ò–∑–ø–æ–ª–∑–≤–∞–Ω–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Framework:** ASP.NET Core 9.0 (MVC)
* **Language:** C# 12/13
* **Database:** Microsoft SQL Server
* **ORM:** Entity Framework Core
* **Authentication:** ASP.NET Core Identity (—Å –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ –†–æ–ª–∏)
* **Testing:** xUnit / NUnit & Moq
* **Frontend:** Razor Views, HTML5, CSS3, Bootstrap
* **Tools:** Visual Studio 2022 / Rider

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

–ü—Ä–æ–µ–∫—Ç—ä—Ç —Å—Ç—Ä–∏–∫—Ç–Ω–æ —Å–ø–∞–∑–≤–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∑–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏—Ç–µ (Separation of Concerns):

1.  **Data Layer (–°–ª–æ–π –¥–∞–Ω–Ω–∏):**
    * `Data/AppDbContext.cs`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ –∏ –≤—Ä—ä–∑–∫–∏—Ç–µ (Fluent API).
    * `Models/`: –î–µ—Ñ–∏–Ω–∏—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ —Å—ä—â–Ω–æ—Å—Ç–∏ (Entity Models).
2.  **Service Layer (–°–ª–æ–π —É—Å–ª—É–≥–∏):**
    * `Services/NoteService.cs`: –ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –±–µ–ª–µ–∂–∫–∏, —Ñ–∞–π–ª–æ–≤–µ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
    * –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ Dependency Injection (DI) –∑–∞ –≤–Ω–µ–¥—Ä—è–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∏—Ç–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏—Ç–µ.
3.  **Presentation Layer (–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–µ–Ω —Å–ª–æ–π):**
    * `Controllers/`: –û–±—Ä–∞–±–æ—Ç–≤–∞—Ç HTTP –∑–∞—è–≤–∫–∏—Ç–µ (`NoteController`, `AdminController`, `HomeController`).
    * `Views/`: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ —á—Ä–µ–∑ Razor —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.

### –ë–∞–∑–∞ –æ—Ç –¥–∞–Ω–Ω–∏ (Entities & Relations)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Ä–∞–±–æ—Ç–∏ —Å 4 –æ—Å–Ω–æ–≤–Ω–∏ —Ç–∏–ø–∞ –¥–∞–Ω–Ω–∏, –∏–∑–ø—ä–ª–Ω—è–≤–∞–π–∫–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è—Ç–∞ –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ—Ç–æ:

1.  **Note:** –û—Å–Ω–æ–≤–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ (–ó–∞–≥–ª–∞–≤–∏–µ, –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ, –î–∞—Ç–∞, UserId).
2.  **Tag:** –ï—Ç–∏–∫–µ—Ç–∏ –∑–∞ –≥—ä–≤–∫–∞–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è.
3.  **NoteImage:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–∏–∫–∞—á–µ–Ω–∏ –∫—ä–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –±–µ–ª–µ–∂–∫–∞.
4.  **NoteFile:** –î–æ–∫—É–º–µ–Ω—Ç–∏/–§–∞–π–ª–æ–≤–µ, –ø—Ä–∏–∫–∞—á–µ–Ω–∏ –∫—ä–º –±–µ–ª–µ–∂–∫–∞—Ç–∞.

**–í—Ä—ä–∑–∫–∏ (Relationships):**
* **Many-to-Many:** `Note` <-> `Tag` (—Ä–µ–∞–ª–∏–∑–∏—Ä–∞–Ω–∞ —á—Ä–µ–∑ `NoteTags` –≤ `AppDbContext`).
* **One-to-Many:** `Note` -> `NoteImage` (Cascade delete).
* **One-to-Many:** `Note` -> `NoteFile` (Cascade delete).
* **User Relation:** –í—Å—è–∫–∞ –±–µ–ª–µ–∂–∫–∞ –µ —Å–≤—ä—Ä–∑–∞–Ω–∞ —Å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª (`IdentityUser`).

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏

### üë§ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∞ –∑–æ–Ω–∞
* **–ê–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞.
* **–õ–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏:** –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –≤–∏–∂–¥–∞—Ç –∏ —É–ø—Ä–∞–≤–ª—è–≤–∞—Ç —Å–∞–º–æ —Å–æ–±—Å—Ç–≤–µ–Ω–∏—Ç–µ —Å–∏ –±–µ–ª–µ–∂–∫–∏.
* **CRUD –ë–µ–ª–µ–∂–∫–∏:** –ü—ä–ª–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–°—ä–∑–¥–∞–≤–∞–Ω–µ, –ß–µ—Ç–µ–Ω–µ, –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ, –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ).
* **–ú—É–ª—Ç–∏–º–µ–¥–∏—è:** –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ –∏ —Å–Ω–∏–º–∫–∏ –∫—ä–º –±–µ–ª–µ–∂–∫–∏—Ç–µ.
* **–¢—ä—Ä—Å–µ–Ω–µ/–§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ:** (–ê–∫–æ –µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–Ω–æ) –í—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –µ—Ç–∏–∫–µ—Ç–∏.

### üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–µ–Ω –ø–∞–Ω–µ–ª
* –î–æ—Å—Ç—ä–ø –¥–æ `AdminController` (–∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ —Å —Ä–æ–ª—è `Admin`).
* –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –≤—Å–∏—á–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –∏–ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞.
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤–∞—Ç–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø.

## ‚öôÔ∏è –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ

1.  **–ö–ª–æ–Ω–∏—Ä–∞–Ω–µ –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ—Ç–æ:**
    ```bash
    git clone [https://github.com/vragov71/noteswebapp.git](https://github.com/vragov71/noteswebapp.git)
    cd NotesWebApp
    ```

2.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏:**
    –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –∏–º–∞—Ç–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω SQL Server (LocalDB –∏–ª–∏ Express). –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `ConnectionStrings` –≤ `appsettings.json`.

    *–ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–∏—Ç–µ:*
    ```bash
    dotnet ef database update
    ```
    *(–ê–∫–æ –µ –Ω—É–∂–Ω–æ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–∏ –¥–∞–Ω–Ω–∏ —á—Ä–µ–∑ `DbInitializer`)*

3.  **–°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ:**
    ```bash
    dotnet build
    dotnet run
    ```
    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —â–µ –±—ä–¥–µ –¥–æ—Å—Ç—ä–ø–Ω–æ –Ω–∞ `https://localhost:5063`.

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ

–ü—Ä–æ–µ–∫—Ç—ä—Ç –≤–∫–ª—é—á–≤–∞ Unit —Ç–µ—Å—Ç–æ–≤–µ –∑–∞ –ª–æ–≥–∏–∫–∞—Ç–∞ –Ω–∞ —É—Å–ª—É–≥–∏—Ç–µ. –¢–µ—Å—Ç–æ–≤–µ—Ç–µ —Å–µ –Ω–∞–º–∏—Ä–∞—Ç –≤ –ø–∞–ø–∫–∞ `Tests` –∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç In-Memory –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ –∏–ª–∏ Mock –æ–±–µ–∫—Ç–∏.

–ó–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ:
```bash
dotnet test